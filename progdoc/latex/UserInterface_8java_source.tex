\hypertarget{UserInterface_8java_source}{\section{User\-Interface.\-java}
}

\begin{DoxyCode}
00001 \textcolor{keyword}{import} javax.swing.*;
00002 \textcolor{keyword}{import} java.awt.*;
00003 \textcolor{keyword}{import} java.awt.event.*;
00004 \textcolor{keyword}{import} java.net.URL;
00005 \textcolor{keyword}{import} java.awt.image.*;
00006 
\hypertarget{UserInterface_8java_source_l00011}{}\hyperlink{classUserInterface}{00011} \textcolor{keyword}{public} \textcolor{keyword}{class }\hyperlink{classUserInterface}{UserInterface} \textcolor{keyword}{implements} ActionListener \{
00012 
\hypertarget{UserInterface_8java_source_l00016}{}\hyperlink{classUserInterface_a661433c9712933f89b2cf30dfb10ffef}{00016}     \textcolor{keyword}{private} \hyperlink{classGameEngine}{GameEngine} \hyperlink{classUserInterface_a661433c9712933f89b2cf30dfb10ffef}{engine};
00017 
\hypertarget{UserInterface_8java_source_l00021}{}\hyperlink{classUserInterface_a1bb844238b260f6d4ae1852b6b1e0b97}{00021}     \textcolor{keyword}{private} JFrame \hyperlink{classUserInterface_a1bb844238b260f6d4ae1852b6b1e0b97}{myFrame};
00022 
\hypertarget{UserInterface_8java_source_l00026}{}\hyperlink{classUserInterface_a940367d996e9e7ad6e1fa1abfe35128b}{00026}     \textcolor{keyword}{private} JTextField \hyperlink{classUserInterface_a940367d996e9e7ad6e1fa1abfe35128b}{entryField};
00027 
\hypertarget{UserInterface_8java_source_l00031}{}\hyperlink{classUserInterface_a7f6ed10812f99e2cc6ce5f497d8ba2a0}{00031}     \textcolor{keyword}{private} JTextArea \hyperlink{classUserInterface_a7f6ed10812f99e2cc6ce5f497d8ba2a0}{log};
00032 
\hypertarget{UserInterface_8java_source_l00036}{}\hyperlink{classUserInterface_a0d115eb19b54f3e002ec6aa0fcfb1db4}{00036}     \textcolor{keyword}{private} JLabel \hyperlink{classUserInterface_a0d115eb19b54f3e002ec6aa0fcfb1db4}{image};
00037 
\hypertarget{UserInterface_8java_source_l00041}{}\hyperlink{classUserInterface_a88813d21f37fc65c1afae2250acd06d0}{00041}     \textcolor{keyword}{private} JLabel \hyperlink{classUserInterface_a88813d21f37fc65c1afae2250acd06d0}{commandsLeftLabel};
00042 
\hypertarget{UserInterface_8java_source_l00047}{}\hyperlink{classUserInterface_a3afe416f3ee335fec8bc815d382c3874}{00047}     \textcolor{keyword}{public} \hyperlink{classUserInterface_a3afe416f3ee335fec8bc815d382c3874}{UserInterface}(\hyperlink{classGameEngine}{GameEngine} gameEngine) \{
00048         \hyperlink{classUserInterface_a661433c9712933f89b2cf30dfb10ffef}{engine} = gameEngine;
00049         \hyperlink{classUserInterface_a5aa4ca5e24c9fce93ef91e5a6d0abd60}{createGUI}();
00050     \}
00051 
\hypertarget{UserInterface_8java_source_l00056}{}\hyperlink{classUserInterface_ad12f31e49e7ed0904bc51ad330e55147}{00056}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classUserInterface_ad12f31e49e7ed0904bc51ad330e55147}{setCommandsLeft}(\textcolor{keywordtype}{int} commandsLeft) \{
00057         commandsLeftLabel.setText(\textcolor{stringliteral}{" Commands left: "} + commandsLeft + \textcolor{stringliteral}{"  "});
00058     \}
00059 
\hypertarget{UserInterface_8java_source_l00064}{}\hyperlink{classUserInterface_a7a0de5ce2b0e0d25ba6573e87c63c1de}{00064}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classUserInterface_a7a0de5ce2b0e0d25ba6573e87c63c1de}{print}(String text) \{
00065         log.append(text);
00066         log.setCaretPosition(log.getDocument().getLength());
00067     \}
00068 
\hypertarget{UserInterface_8java_source_l00073}{}\hyperlink{classUserInterface_a79f606b4b1f5d1523e50eea00039ed94}{00073}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classUserInterface_a79f606b4b1f5d1523e50eea00039ed94}{println}(String text) \{
00074         log.append(text + \textcolor{stringliteral}{"\(\backslash\)n"});
00075         log.setCaretPosition(log.getDocument().getLength());
00076     \}
00077 
\hypertarget{UserInterface_8java_source_l00082}{}\hyperlink{classUserInterface_ab793a0f12878c698ba3e1720a9f86f3b}{00082}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classUserInterface_ab793a0f12878c698ba3e1720a9f86f3b}{showImage}(String imageName) \{
00083         URL imageURL = this.getClass().getClassLoader().getResource(imageName);
00084         \textcolor{keywordflow}{if}(imageURL == null)
00085             System.out.println(\textcolor{stringliteral}{"image not found"});
00086         \textcolor{keywordflow}{else} \{
00087             ImageIcon icon = \textcolor{keyword}{new} ImageIcon(imageURL);
00088             image.setIcon(icon);
00089             myFrame.pack();
00090         \}
00091     \}
00092 
\hypertarget{UserInterface_8java_source_l00097}{}\hyperlink{classUserInterface_ab9e499c6c847d52c8753f08d62f1adfc}{00097}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classUserInterface_ab9e499c6c847d52c8753f08d62f1adfc}{enable}(\textcolor{keywordtype}{boolean} on) \{
00098         entryField.setEditable(on);
00099         \textcolor{keywordflow}{if}(!on)
00100             entryField.getCaret().setBlinkRate(0);
00101     \}
00102 
\hypertarget{UserInterface_8java_source_l00106}{}\hyperlink{classUserInterface_a5aa4ca5e24c9fce93ef91e5a6d0abd60}{00106}     \textcolor{keyword}{private} \textcolor{keywordtype}{void} \hyperlink{classUserInterface_a5aa4ca5e24c9fce93ef91e5a6d0abd60}{createGUI}() \{
00107         \hyperlink{classUserInterface_a1bb844238b260f6d4ae1852b6b1e0b97}{myFrame} = \textcolor{keyword}{new} JFrame(\textcolor{stringliteral}{"Bad Philophobia"});
00108         \hyperlink{classUserInterface_a940367d996e9e7ad6e1fa1abfe35128b}{entryField} = \textcolor{keyword}{new} JTextField(34);
00109 
00110         \hyperlink{classUserInterface_a7f6ed10812f99e2cc6ce5f497d8ba2a0}{log} = \textcolor{keyword}{new} JTextArea();
00111         log.setEditable(\textcolor{keyword}{false});
00112         JScrollPane listScroller = \textcolor{keyword}{new} JScrollPane(\hyperlink{classUserInterface_a7f6ed10812f99e2cc6ce5f497d8ba2a0}{log});
00113         listScroller.setPreferredSize(\textcolor{keyword}{new} Dimension(200, 200));
00114         listScroller.setMinimumSize(\textcolor{keyword}{new} Dimension(100, 100));
00115 
00116         JPanel panel = \textcolor{keyword}{new} JPanel();
00117         JPanel buttonsPanel = \textcolor{keyword}{new} JPanel();
00118         buttonsPanel.setPreferredSize(\textcolor{keyword}{new} Dimension(200,200));
00119         \hyperlink{classUserInterface_a0d115eb19b54f3e002ec6aa0fcfb1db4}{image} = \textcolor{keyword}{new} JLabel();
00120 
00121         JButton buttonNorth = \textcolor{keyword}{new} JButton(\textcolor{stringliteral}{"↑"});
00122         buttonNorth.addActionListener(\textcolor{keyword}{this});
00123 
00124         JButton buttonSouth = \textcolor{keyword}{new} JButton(\textcolor{stringliteral}{"↓"});
00125         buttonSouth.addActionListener(\textcolor{keyword}{this});
00126 
00127         JButton buttonEast = \textcolor{keyword}{new} JButton(\textcolor{stringliteral}{"→"});
00128         buttonEast.addActionListener(\textcolor{keyword}{this});
00129 
00130         JButton buttonWest = \textcolor{keyword}{new} JButton(\textcolor{stringliteral}{"←"});
00131         buttonWest.addActionListener(\textcolor{keyword}{this});
00132 
00133         JButton buttonHelp = \textcolor{keyword}{new} JButton(\textcolor{stringliteral}{"?"});
00134         buttonHelp.addActionListener(\textcolor{keyword}{this});
00135 
00136         JButton buttonReturn = \textcolor{keyword}{new} JButton(\textcolor{stringliteral}{"⏎"});
00137         buttonReturn.addActionListener(\textcolor{keyword}{this});
00138 
00139         buttonsPanel.setLayout(\textcolor{keyword}{new} GridLayout(3,3));
00140         buttonsPanel.add(\textcolor{keyword}{new} JButton(\textcolor{stringliteral}{""}));
00141         buttonsPanel.add(buttonNorth);
00142         buttonsPanel.add(\textcolor{keyword}{new} JButton(\textcolor{stringliteral}{""}));
00143         buttonsPanel.add(buttonWest);
00144         buttonsPanel.add(buttonHelp);
00145         buttonsPanel.add(buttonEast);
00146         buttonsPanel.add(buttonReturn);
00147         buttonsPanel.add(buttonSouth);
00148         buttonsPanel.add(\textcolor{keyword}{new} JButton(\textcolor{stringliteral}{""}));
00149 
00150         panel.setLayout(\textcolor{keyword}{new} BorderLayout());
00151         panel.add(\hyperlink{classUserInterface_a0d115eb19b54f3e002ec6aa0fcfb1db4}{image}, BorderLayout.NORTH);
00152         panel.add(listScroller, BorderLayout.CENTER);
00153         panel.add(buttonsPanel, BorderLayout.EAST);
00154 
00155         JPanel bottomPanel = \textcolor{keyword}{new} JPanel();
00156         bottomPanel.setLayout(\textcolor{keyword}{new} BorderLayout());
00157         bottomPanel.add(\hyperlink{classUserInterface_a940367d996e9e7ad6e1fa1abfe35128b}{entryField}, BorderLayout.CENTER);
00158         \hyperlink{classUserInterface_a88813d21f37fc65c1afae2250acd06d0}{commandsLeftLabel} = \textcolor{keyword}{new} JLabel();
00159         bottomPanel.add(\hyperlink{classUserInterface_a88813d21f37fc65c1afae2250acd06d0}{commandsLeftLabel}, BorderLayout.EAST);
00160 
00161         panel.add(bottomPanel, BorderLayout.SOUTH);
00162 
00163         myFrame.getContentPane().add(panel, BorderLayout.CENTER);
00164 
00165         myFrame.addWindowListener(\textcolor{keyword}{new} WindowAdapter() \{
00166             \textcolor{keyword}{public} \textcolor{keywordtype}{void} windowClosing(WindowEvent e) \{
00167                 System.exit(0);
00168             \}
00169         \});
00170 
00171         entryField.addActionListener(\textcolor{keyword}{this});
00172 
00173         myFrame.pack();
00174         myFrame.setVisible(\textcolor{keyword}{true});
00175         entryField.requestFocus();
00176     \}
00177 
\hypertarget{UserInterface_8java_source_l00182}{}\hyperlink{classUserInterface_a0a1ee40a4dbca4aeee002c3d0537c7d5}{00182}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classUserInterface_a0a1ee40a4dbca4aeee002c3d0537c7d5}{actionPerformed}(ActionEvent e) \{
00183         \textcolor{keywordflow}{if}(e.getActionCommand().equals(\textcolor{stringliteral}{"↑"})) \{
00184             engine.processCommand(\textcolor{stringliteral}{"go north"});
00185         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(e.getActionCommand().equals(\textcolor{stringliteral}{"↓"})) \{
00186             engine.processCommand(\textcolor{stringliteral}{"go south"});
00187         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(e.getActionCommand().equals(\textcolor{stringliteral}{"←"})) \{
00188             engine.processCommand(\textcolor{stringliteral}{"go west"});
00189         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(e.getActionCommand().equals(\textcolor{stringliteral}{"→"})) \{
00190             engine.processCommand(\textcolor{stringliteral}{"go east"});
00191         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(e.getActionCommand().equals(\textcolor{stringliteral}{"?"})) \{
00192             engine.processCommand(\textcolor{stringliteral}{"help"});
00193         \} \textcolor{keywordflow}{else} \{
00194             \hyperlink{classUserInterface_a8729aa2e61c87f957663577707f449a5}{processCommand}();
00195         \}
00196     \}
00197 
\hypertarget{UserInterface_8java_source_l00201}{}\hyperlink{classUserInterface_a8729aa2e61c87f957663577707f449a5}{00201}     \textcolor{keyword}{private} \textcolor{keywordtype}{void} \hyperlink{classUserInterface_a8729aa2e61c87f957663577707f449a5}{processCommand}() \{
00202         \textcolor{keywordtype}{boolean} finished = \textcolor{keyword}{false};
00203         String input = entryField.getText();
00204         entryField.setText(\textcolor{stringliteral}{""});
00205 
00206         engine.processCommand(input);
00207     \}
00208 \}
\end{DoxyCode}
