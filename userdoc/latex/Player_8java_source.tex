\hypertarget{Player_8java}{\section{Player.\-java}
\label{Player_8java}\index{pkg\-\_\-world/\-Player.\-java@{pkg\-\_\-world/\-Player.\-java}}
}

\begin{DoxyCode}
00001 
00005 \textcolor{keyword}{package }pkg\_world;
00006 
00007 \textcolor{keyword}{import} \hyperlink{classpkg__world_1_1pkg__items_1_1Item}{pkg\_world.pkg\_items.Item};
00008 \textcolor{keyword}{import} \hyperlink{classpkg__world_1_1pkg__items_1_1ItemList}{pkg\_world.pkg\_items.ItemList};
00009 
00010 
00011 \textcolor{keyword}{import} java.util.HashMap;
00012 \textcolor{keyword}{import} java.util.Set;
00013 \textcolor{keyword}{import} java.util.Iterator;
00014 \textcolor{keyword}{import} java.util.Stack;
00015 
\hypertarget{Player_8java_source_l00020}{}\hyperlink{classpkg__world_1_1Player}{00020} \textcolor{keyword}{public} \textcolor{keyword}{class }\hyperlink{classpkg__world_1_1Player}{Player} \{
00021 
00026     \textcolor{keyword}{private} String name;
00027 
00031     \textcolor{keyword}{private} \hyperlink{classpkg__world_1_1pkg__items_1_1ItemList}{ItemList} backpack;
00032 
00036     \textcolor{keyword}{private} \textcolor{keywordtype}{int} backpackWeight;
00037 
00041     \textcolor{keyword}{private} \textcolor{keywordtype}{int} maxWeight = 100;
00042 
00046     \textcolor{keyword}{private} \hyperlink{classpkg__world_1_1Room}{Room} currentRoom;
00047 
00051     \textcolor{keyword}{private} Stack<Room> previousRooms;
00052 
00056     \textcolor{keyword}{private} \hyperlink{classpkg__world_1_1Room}{Room} beamerRoom;
00057 
00061     \textcolor{keyword}{private} \textcolor{keywordtype}{boolean} \hyperlink{classpkg__world_1_1Player_aec9bad13ead588d970cf28b6d2b5e4a2}{threwSnowball};
00062 
\hypertarget{Player_8java_source_l00068}{}\hyperlink{classpkg__world_1_1Player_a8a48bf28cae733a412a0114802a1e4fb}{00068}     \textcolor{keyword}{public} \hyperlink{classpkg__world_1_1Player_a8a48bf28cae733a412a0114802a1e4fb}{Player}(String name, \hyperlink{classpkg__world_1_1Room}{Room} firstRoom) \{
00069         \hyperlink{classpkg__world_1_1Player_aec9bad13ead588d970cf28b6d2b5e4a2}{threwSnowball} = \textcolor{keyword}{false};
00070         this.name = name;
00071         backpack = \textcolor{keyword}{new} \hyperlink{classpkg__world_1_1pkg__items_1_1ItemList}{ItemList}();
00072         backpackWeight = 0;
00073         currentRoom = firstRoom;
00074         previousRooms = \textcolor{keyword}{new} Stack<Room>();
00075     \}
00076 
\hypertarget{Player_8java_source_l00081}{}\hyperlink{classpkg__world_1_1Player_afb52f93ed1c1ee43462f0c33ca3abcf0}{00081}     \textcolor{keyword}{public} String \hyperlink{classpkg__world_1_1Player_afb52f93ed1c1ee43462f0c33ca3abcf0}{getName}() \{
00082         \textcolor{keywordflow}{return} name;
00083     \}
00084 
\hypertarget{Player_8java_source_l00089}{}\hyperlink{classpkg__world_1_1Player_a700bc1762736bd44d91e40ad9ae2ff76}{00089}     \textcolor{keyword}{public} \textcolor{keywordtype}{int} \hyperlink{classpkg__world_1_1Player_a700bc1762736bd44d91e40ad9ae2ff76}{getMaxWeight}() \{
00090         \textcolor{keywordflow}{return} maxWeight;
00091     \}
00092 
\hypertarget{Player_8java_source_l00097}{}\hyperlink{classpkg__world_1_1Player_a6218134478709a2e1c4438f2c9f94b8a}{00097}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classpkg__world_1_1Player_a6218134478709a2e1c4438f2c9f94b8a}{setMaxWeight}(\textcolor{keywordtype}{int} maxWeight) \{
00098         this.maxWeight = maxWeight;
00099     \}
00100 
\hypertarget{Player_8java_source_l00105}{}\hyperlink{classpkg__world_1_1Player_a5ff0ede152d97c0c9cf6603c9a422a77}{00105}     \textcolor{keyword}{public} \hyperlink{classpkg__world_1_1Room}{Room} \hyperlink{classpkg__world_1_1Player_a5ff0ede152d97c0c9cf6603c9a422a77}{getCurrentRoom}() \{
00106         \textcolor{keywordflow}{return} currentRoom;
00107     \}
00108 
\hypertarget{Player_8java_source_l00113}{}\hyperlink{classpkg__world_1_1Player_af694ca81b712f2ba0e18c3ae73c03bd4}{00113}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classpkg__world_1_1Player_af694ca81b712f2ba0e18c3ae73c03bd4}{goRoom}(\hyperlink{classpkg__world_1_1Room}{Room} room) \{
00114         currentRoom = room;
00115     \}
00116 
\hypertarget{Player_8java_source_l00121}{}\hyperlink{classpkg__world_1_1Player_adcff90c8c1b6fd5dcb3c4516d7e3a277}{00121}     \textcolor{keyword}{public} \hyperlink{classpkg__world_1_1Room}{Room} \hyperlink{classpkg__world_1_1Player_adcff90c8c1b6fd5dcb3c4516d7e3a277}{getPreviousRoom}() \{
00122         \textcolor{keywordflow}{return} (previousRooms.empty())? null : previousRooms.peek();
00123     \}
00124 
\hypertarget{Player_8java_source_l00129}{}\hyperlink{classpkg__world_1_1Player_a6b419da985921727891cee03e4a7e755}{00129}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classpkg__world_1_1Player_a6b419da985921727891cee03e4a7e755}{pushPreviousRooms}(\hyperlink{classpkg__world_1_1Room}{Room} room) \{
00130         previousRooms.push(room);
00131     \}
00132 
\hypertarget{Player_8java_source_l00136}{}\hyperlink{classpkg__world_1_1Player_af97dc9ce2806115a09ab6a3ba08ed673}{00136}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classpkg__world_1_1Player_af97dc9ce2806115a09ab6a3ba08ed673}{pushForward}() \{
00137         previousRooms.push(currentRoom);
00138     \}
00139 
\hypertarget{Player_8java_source_l00143}{}\hyperlink{classpkg__world_1_1Player_a4ef9377c34206c64ef1086de669ca5f1}{00143}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classpkg__world_1_1Player_a4ef9377c34206c64ef1086de669ca5f1}{popPreviousRooms}() \{
00144         previousRooms.pop();
00145     \}
00146 
\hypertarget{Player_8java_source_l00151}{}\hyperlink{classpkg__world_1_1Player_abe1633071742e8825d40317150f66835}{00151}     \textcolor{keyword}{public} \textcolor{keywordtype}{boolean} \hyperlink{classpkg__world_1_1Player_abe1633071742e8825d40317150f66835}{noPreviousRooms}() \{
00152         \textcolor{keywordflow}{return} previousRooms.empty();
00153     \}
00154 
\hypertarget{Player_8java_source_l00159}{}\hyperlink{classpkg__world_1_1Player_a6dc6248fa7cbe281e9a7c5d6b86f242c}{00159}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classpkg__world_1_1Player_a6dc6248fa7cbe281e9a7c5d6b86f242c}{setBeamerRoom}(\hyperlink{classpkg__world_1_1Room}{Room} beamerRoom) \{
00160         this.beamerRoom = beamerRoom;
00161     \}
00162 
\hypertarget{Player_8java_source_l00167}{}\hyperlink{classpkg__world_1_1Player_a81893b37cd26426863087f353f8be3ab}{00167}     \textcolor{keyword}{public} \hyperlink{classpkg__world_1_1Room}{Room} \hyperlink{classpkg__world_1_1Player_a81893b37cd26426863087f353f8be3ab}{getBeamerRoom}() \{
00168         \textcolor{keywordflow}{return} beamerRoom;
00169     \}
00170 
\hypertarget{Player_8java_source_l00176}{}\hyperlink{classpkg__world_1_1Player_a913aab92cf289f5278e6e995e7a4d118}{00176}     \textcolor{keyword}{public} \hyperlink{classpkg__world_1_1pkg__items_1_1Item}{Item} \hyperlink{classpkg__world_1_1Player_a913aab92cf289f5278e6e995e7a4d118}{getItem}(String item) \{
00177         \textcolor{keywordflow}{return} backpack.get(item);
00178     \}
00179 
\hypertarget{Player_8java_source_l00184}{}\hyperlink{classpkg__world_1_1Player_a23b53a36fdac45868ee1ea6dcdeca7ce}{00184}     \textcolor{keyword}{public} \textcolor{keywordtype}{boolean} \hyperlink{classpkg__world_1_1Player_a23b53a36fdac45868ee1ea6dcdeca7ce}{hasItem}(String item) \{
00185         \textcolor{keywordflow}{return} backpack.containsKey(item);
00186     \}
00187 
\hypertarget{Player_8java_source_l00194}{}\hyperlink{classpkg__world_1_1Player_acca13cc67931809c8067aaca1b8c8459}{00194}     \textcolor{keyword}{public} \textcolor{keywordtype}{boolean} \hyperlink{classpkg__world_1_1Player_acca13cc67931809c8067aaca1b8c8459}{canCarry}(\hyperlink{classpkg__world_1_1pkg__items_1_1Item}{Item} item) \{
00195         \textcolor{keywordflow}{return} backpackWeight + item.getWeight() < maxWeight;
00196     \}
00197 
\hypertarget{Player_8java_source_l00202}{}\hyperlink{classpkg__world_1_1Player_ac5bdaa8f2149e480e57398be03efa96f}{00202}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classpkg__world_1_1Player_ac5bdaa8f2149e480e57398be03efa96f}{takeObject}(\hyperlink{classpkg__world_1_1pkg__items_1_1Item}{Item} item) \{
00203         currentRoom.getContainedItems().transfer(item.\hyperlink{classpkg__world_1_1pkg__items_1_1Item_ab541df9aad01409656af1aadfa66987a}{getName}(), backpack);
00204         backpackWeight += item.getWeight();
00205     \}
00206 
\hypertarget{Player_8java_source_l00211}{}\hyperlink{classpkg__world_1_1Player_a202b660b747a977911af058554888387}{00211}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classpkg__world_1_1Player_a202b660b747a977911af058554888387}{dropObject}(String item) \{
00212         backpackWeight -= backpack.get(item).getWeight();
00213         backpack.transfer(item, currentRoom.getContainedItems());
00214     \}
00215 
\hypertarget{Player_8java_source_l00220}{}\hyperlink{classpkg__world_1_1Player_ab18847eb6503ad2ac400cc7cd5a7c9a0}{00220}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classpkg__world_1_1Player_ab18847eb6503ad2ac400cc7cd5a7c9a0}{eatObject}(String itemName) \{
00221         backpack.remove(itemName);
00222     \}
00223 
\hypertarget{Player_8java_source_l00229}{}\hyperlink{classpkg__world_1_1Player_a2a6e491f41e159bbac42022e55df2d52}{00229}     \textcolor{keyword}{public} String \hyperlink{classpkg__world_1_1Player_a2a6e491f41e159bbac42022e55df2d52}{getInventory}() \{
00230         String returnString = \textcolor{stringliteral}{""};
00231         Set<String> itemsNames = backpack.keySet();
00232         Iterator<String> it = itemsNames.iterator();
00233         \textcolor{keywordflow}{while}(it.hasNext()) \{
00234             String itemName = it.next();
00235             \textcolor{comment}{// If the item's name begins with a vowel, the prefix is ' an '}
00236             \textcolor{comment}{// if not, the prefix is ' a '}
00237             String prefix = \textcolor{stringliteral}{" a"} + (((\textcolor{keyword}{new} String(\textcolor{stringliteral}{"aeiouy"})).contains(itemName.substring(0,1)))? \textcolor{stringliteral}{"n"} : \textcolor{stringliteral}{""}) +
       \textcolor{stringliteral}{" "};
00238 
00239             \textcolor{keywordflow}{if}(returnString.equals(\textcolor{stringliteral}{""}))
00240                 returnString += prefix + itemName;
00241             \textcolor{keywordflow}{else} \{
00242                 \textcolor{comment}{// Check if it is the last item}
00243                 \textcolor{keywordflow}{if}(it.hasNext())
00244                     returnString += \textcolor{stringliteral}{","} + prefix + itemName;
00245                 \textcolor{keywordflow}{else}
00246                     returnString += \textcolor{stringliteral}{" and"} + prefix + itemName;
00247             \}
00248         \}
00249         \textcolor{keywordflow}{return} (returnString.equals(\textcolor{stringliteral}{""}))?
00250             \textcolor{stringliteral}{"You have nothing. This may be a metaphor for your life.\(\backslash\)nBut as always you didn't understand a
       word I said, don't you?"}
00251             : \textcolor{stringliteral}{"You have"} + returnString + \textcolor{stringliteral}{".\(\backslash\)nCan't you remember that?"};
00252     \}
00253 
\hypertarget{Player_8java_source_l00258}{}\hyperlink{classpkg__world_1_1Player_aec9bad13ead588d970cf28b6d2b5e4a2}{00258}     \textcolor{keyword}{public} \textcolor{keywordtype}{boolean} \hyperlink{classpkg__world_1_1Player_aec9bad13ead588d970cf28b6d2b5e4a2}{threwSnowball}() \{
00259         \textcolor{keywordflow}{return} \hyperlink{classpkg__world_1_1Player_aec9bad13ead588d970cf28b6d2b5e4a2}{threwSnowball};
00260     \}
00261 
\hypertarget{Player_8java_source_l00265}{}\hyperlink{classpkg__world_1_1Player_af27044cbbd51c6a1e7658e797563ca22}{00265}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classpkg__world_1_1Player_af27044cbbd51c6a1e7658e797563ca22}{throwSnowball}() \{
00266         \hyperlink{classpkg__world_1_1Player_aec9bad13ead588d970cf28b6d2b5e4a2}{threwSnowball} = \textcolor{keyword}{true};
00267     \}
00268 
00269 \}
\end{DoxyCode}
