\hypertarget{UserInterface_8java_source}{\section{User\-Interface.\-java}
}

\begin{DoxyCode}
00001 \textcolor{keyword}{import} javax.swing.*;
00002 \textcolor{keyword}{import} java.awt.*;
00003 \textcolor{keyword}{import} java.awt.event.*;
00004 \textcolor{keyword}{import} java.net.URL;
00005 \textcolor{keyword}{import} java.awt.image.*;
00006 
\hypertarget{UserInterface_8java_source_l00011}{}\hyperlink{classUserInterface}{00011} \textcolor{keyword}{public} \textcolor{keyword}{class }\hyperlink{classUserInterface}{UserInterface} \textcolor{keyword}{implements} ActionListener \{
00012 
00016     \textcolor{keyword}{private} \hyperlink{classGameEngine}{GameEngine} engine;
00017 
00021     \textcolor{keyword}{private} JFrame myFrame;
00022 
00026     \textcolor{keyword}{private} JTextField entryField;
00027 
00031     \textcolor{keyword}{private} JTextArea log;
00032 
00036     \textcolor{keyword}{private} JLabel image;
00037 
\hypertarget{UserInterface_8java_source_l00042}{}\hyperlink{classUserInterface_a3afe416f3ee335fec8bc815d382c3874}{00042}     \textcolor{keyword}{public} \hyperlink{classUserInterface_a3afe416f3ee335fec8bc815d382c3874}{UserInterface}(\hyperlink{classGameEngine}{GameEngine} gameEngine) \{
00043         engine = gameEngine;
00044         createGUI();
00045     \}
00046 
\hypertarget{UserInterface_8java_source_l00051}{}\hyperlink{classUserInterface_a7a0de5ce2b0e0d25ba6573e87c63c1de}{00051}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classUserInterface_a7a0de5ce2b0e0d25ba6573e87c63c1de}{print}(String text) \{
00052         log.append(text);
00053         log.setCaretPosition(log.getDocument().getLength());
00054     \}
00055 
\hypertarget{UserInterface_8java_source_l00060}{}\hyperlink{classUserInterface_a79f606b4b1f5d1523e50eea00039ed94}{00060}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classUserInterface_a79f606b4b1f5d1523e50eea00039ed94}{println}(String text) \{
00061         log.append(text + \textcolor{stringliteral}{"\(\backslash\)n"});
00062         log.setCaretPosition(log.getDocument().getLength());
00063     \}
00064 
\hypertarget{UserInterface_8java_source_l00069}{}\hyperlink{classUserInterface_ab793a0f12878c698ba3e1720a9f86f3b}{00069}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classUserInterface_ab793a0f12878c698ba3e1720a9f86f3b}{showImage}(String imageName) \{
00070         URL imageURL = this.getClass().getClassLoader().getResource(imageName);
00071         \textcolor{keywordflow}{if}(imageURL == null)
00072             System.out.println(\textcolor{stringliteral}{"image not found"});
00073         \textcolor{keywordflow}{else} \{
00074             ImageIcon icon = \textcolor{keyword}{new} ImageIcon(imageURL);
00075             image.setIcon(icon);
00076             myFrame.pack();
00077         \}
00078     \}
00079 
\hypertarget{UserInterface_8java_source_l00083}{}\hyperlink{classUserInterface_ab9e499c6c847d52c8753f08d62f1adfc}{00083}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classUserInterface_ab9e499c6c847d52c8753f08d62f1adfc}{enable}(\textcolor{keywordtype}{boolean} on) \{
00084         entryField.setEditable(on);
00085         \textcolor{keywordflow}{if}(!on)
00086             entryField.getCaret().setBlinkRate(0);
00087     \}
00088 
00092     \textcolor{keyword}{private} \textcolor{keywordtype}{void} createGUI() \{
00093         myFrame = \textcolor{keyword}{new} JFrame(\textcolor{stringliteral}{"Zork"});
00094         entryField = \textcolor{keyword}{new} JTextField(34);
00095 
00096         log = \textcolor{keyword}{new} JTextArea();
00097         log.setEditable(\textcolor{keyword}{false});
00098         JScrollPane listScroller = \textcolor{keyword}{new} JScrollPane(log);
00099         listScroller.setPreferredSize(\textcolor{keyword}{new} Dimension(200, 200));
00100         listScroller.setMinimumSize(\textcolor{keyword}{new} Dimension(100, 100));
00101 
00102         JPanel panel = \textcolor{keyword}{new} JPanel();
00103         image = \textcolor{keyword}{new} JLabel();
00104 
00105         panel.setLayout(\textcolor{keyword}{new} BorderLayout());
00106         panel.add(image, BorderLayout.NORTH);
00107         panel.add(listScroller, BorderLayout.CENTER);
00108         panel.add(entryField, BorderLayout.SOUTH);
00109 
00110         myFrame.getContentPane().add(panel, BorderLayout.CENTER);
00111 
00112         myFrame.addWindowListener(\textcolor{keyword}{new} WindowAdapter() \{
00113             \textcolor{keyword}{public} \textcolor{keywordtype}{void} windowClosing(WindowEvent e) \{
00114                 System.exit(0);
00115             \}
00116         \});
00117 
00118         entryField.addActionListener(\textcolor{keyword}{this});
00119 
00120         myFrame.pack();
00121         myFrame.setVisible(\textcolor{keyword}{true});
00122         entryField.requestFocus();
00123     \}
00124 
\hypertarget{UserInterface_8java_source_l00129}{}\hyperlink{classUserInterface_a0a1ee40a4dbca4aeee002c3d0537c7d5}{00129}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \hyperlink{classUserInterface_a0a1ee40a4dbca4aeee002c3d0537c7d5}{actionPerformed}(ActionEvent e) \{
00130         processCommand();
00131     \}
00132 
00136     \textcolor{keyword}{private} \textcolor{keywordtype}{void} processCommand() \{
00137         \textcolor{keywordtype}{boolean} finished = \textcolor{keyword}{false};
00138         String input = entryField.getText();
00139         entryField.setText(\textcolor{stringliteral}{""});
00140 
00141         engine.interpretCommand(input);
00142     \}
00143 \}
\end{DoxyCode}
